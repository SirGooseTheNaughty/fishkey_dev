<script>
    // --------- BUTTON BACKGROUND --------- //
    const targetOneSideButtonsPars = document.querySelectorAll('[data-elem-id="1599820091591"], [data-elem-id="1602152450564"]'),  // кнопки (второй уровень)
        oneSideButtonStyle = {
            firstColor: 'red',			    // код первого цвета
            secondColor: 'blue',		    // код второго цвета
            whereTo: 'left',                // направление смещения: right / left / top / bottom
            firstTextColor: 'blue',         // код первого цвета текста
            secondTextColor: 'red',         // код второго цвета текста
            animTime: 1000                  // время анимации (в миллисекундах)
        },
        buttonBackgroundMinWidth = 1200;    // минимальная ширина экрана для анимации

    if ($(window).width() > buttonBackgroundMinWidth) {
        const targetButtons = [];
        targetOneSideButtonsPars.forEach((button, i) => {
            targetButtons[i] = button.firstElementChild;
        });
        oneSideButtonStyle.backgroundSize = (oneSideButtonStyle.whereTo == 'left' || oneSideButtonStyle.whereTo == 'right') ? '200% 100%' : '100% 200%';
        if (oneSideButtonStyle.whereTo == 'left') {
            oneSideButtonStyle.firstPosition = 'left bottom';
            oneSideButtonStyle.secondPosition = 'right bottom';
        } else if (oneSideButtonStyle.whereTo == 'right') {
            oneSideButtonStyle.firstPosition = 'right bottom';
            oneSideButtonStyle.secondPosition = 'left bottom';
        } else if (oneSideButtonStyle.whereTo == 'top') {
            oneSideButtonStyle.firstPosition = 'left top';
            oneSideButtonStyle.secondPosition = 'left bottom';
        } else if (oneSideButtonStyle.whereTo == 'bottom') {
            oneSideButtonStyle.firstPosition = 'left bottom';
            oneSideButtonStyle.secondPosition = 'left top';
        }  
        oneSideButtonStyle.whereTo = 'to ' + oneSideButtonStyle.whereTo;  
        $(targetButtons).css({
            'background': `linear-gradient(${oneSideButtonStyle.whereTo}, ${oneSideButtonStyle.secondColor} 50%, ${oneSideButtonStyle.firstColor} 50%)`,
            'background-position': oneSideButtonStyle.firstPosition,
            'background-size': oneSideButtonStyle.backgroundSize,
            'color': oneSideButtonStyle.firstTextColor
        });

        let animTimeout = '';

        $(targetButtons).attr('isAnimEnded', true);
        
        function changeOneSideButton(firstColor, secondColor, button) {
            button.setAttribute('isAnimEnded', false);
            $(button).css({
                "transition": `${oneSideButtonStyle.animTime/1000}s ease`,
                "background-position": oneSideButtonStyle.secondPosition
            });
            animTimeout = setTimeout(function(){
                $(button).css({
                    'transition': 'none',
                    'background': `linear-gradient(${oneSideButtonStyle.whereTo}, ${secondColor} 50%, ${firstColor} 50%)`,
                    'background-position': oneSideButtonStyle.firstPosition,
                    'background-size': oneSideButtonStyle.backgroundSize
                });
                button.setAttribute('isAnimEnded', true);
            }, oneSideButtonStyle.animTime);
        }
        $(targetButtons).on('mouseenter', function() {
                if (this.getAttribute('isAnimEnded') == 'true') {
                    changeOneSideButton(oneSideButtonStyle.secondColor, oneSideButtonStyle.firstColor, this);
                } else {
                    clearTimeout(animTimeout);
                    $(this).css({"background-position": oneSideButtonStyle.firstPosition});
                    this.setAttribute('isAnimEnded', true);
                }
                $(this).css('color', oneSideButtonStyle.secondTextColor);
            })
            .on('mouseleave', function() {
                if (this.getAttribute('isAnimEnded') == 'true') {
                    changeOneSideButton(oneSideButtonStyle.firstColor, oneSideButtonStyle.secondColor, this);
                } else {
                    clearTimeout(animTimeout);
                    $(this).css({"background-position": oneSideButtonStyle.firstPosition});
                    this.setAttribute('isAnimEnded', true);
                }
                $(this).css('color', oneSideButtonStyle.firstTextColor);
            });
    }
    // ------------------------------------- //
</script>